% expanded CO architecture diagram produced by the TikZ package
\documentclass[]{byu-aero}

\def \nextyear {2021}

\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength{\PreviewBorder}{0em}


%GANTT CHART
\usepackage{pgfgantt}
\ganttset{
	time slot format=isodate,
	time slot unit=day,
	x unit=0.05cm,
	y unit title=0.45cm,
	y unit chart=0.35cm,
	hgrid,
	canvas/.append style={draw=\BYUblue},
	%
	title label font=\bfseries\small,
	title height=1,
	title/.style={fill=\BYUbluelite,draw=\BYUblue},
	%
	today = \nextyear-02-20,
	today label = Current Date,
	today label font=\itshape\footnotesize,
	today rule/.style={draw=\BYUgray,dashed},
	%
	group/.append style={fill=\BYUbluemid,draw=\BYUblue},
	group top shift=0.25,
	group height=.25,
	group right peak tip position=0.0,
	group left peak tip position=0.0,
	group peaks width=2.0,
	group peaks height=0.25,
	group label font = \bfseries\small,
	%
	bar/.append style={fill=\BYUblue,draw=\BYUblue},
	bar label font=\small,
	bar height = 0.25,
	%	bar top shift = 0.25,
	progress label text = {},
	%
	milestone/.append style={fill=\BYUbluelite,draw=\BYUblue,xscale=6},
	milestone height = 0.95,
	milestone top shift = 0.0,
	milestone label font = \itshape\small,
	%
	%	link/.append style={draw=\BYUblue},
	link tolerance = 10,
	link bulge = 10,
}

\begin{document}
	\begin{figure}[h!]
	\centering
	\begin{ganttchart}[]{\the\year-09-01}{\nextyear-04-30}
		%
		\gantttitlecalendar{year, month=shortname} \\
		%
		% PLANNED
		\ganttgroup{Conceptual Testing}{\the\year-10-07}{\the\year-10-28};
		% ACTUAL
		\ganttgroup[group/.append style={fill=\BYUredlite,draw=\BYUred}, group height = 0.125,
		group top shift = 0.5675]{}{\the\year-10-07}{\the\year-10-28}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Payload Comparison}{\the\year-10-07}{\the\year-10-14};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-10-07}{\the\year-10-14}\\
		%
		% PLANNED
		\ganttbar[progress=100]{\color{\BYUred}[THIS YEAR'S SPECIFIC]}{\the\year-10-15}{\the\year-10-21};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-10-15}{\the\year-10-21}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Un-powered Glide}{\the\year-10-26}{\the\year-10-28};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-10-26}{\the\year-10-28}\\
		%
		%
		%
		% PLANNED
		\ganttgroup{Preliminary Testing}{\the\year-12-01}{\the\year-12-21};
		% ACTUAL
		\ganttgroup[group/.append style={fill=\BYUredlite,draw=\BYUred}, group height = 0.125,
		group top shift = 0.5675]{}{\the\year-12-01}{\the\year-12-21}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Payload Functionality}{\the\year-12-01}{\the\year-12-05};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-12-01}{\the\year-12-05}\\
		%
		% PLANNED
		\ganttbar[progress=100]{\color{\BYUred}[THIS YEAR'S SPECIFIC]}{\the\year-12-06}{\the\year-12-12};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-12-06}{\the\year-12-12}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Wind Tunnel}{\the\year-12-06}{\the\year-12-18};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-12-06}{\the\year-12-18}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Structural Failure}{\the\year-12-06}{\the\year-12-18};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-12-06}{\the\year-12-18}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Airframe Flight}{\the\year-12-19}{\the\year-12-21};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\the\year-12-19}{\the\year-12-21}\\
		%
		%
		%
		% PLANNED
		\ganttgroup{Detailed Testing}{\nextyear-01-14}{\nextyear-02-07};
		% ACTUAL
		\ganttgroup[group/.append style={fill=\BYUredlite,draw=\BYUred}, group height = 0.125,
		group top shift = 0.5675]{}{\nextyear-01-14}{\nextyear-02-07}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Payload Functionality}{\nextyear-01-14}{\nextyear-01-16};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-14}{\nextyear-01-16}\\
		%
		% PLANNED
		\ganttbar[progress=100]{\color{\BYUred}[THIS YEAR'S SPECIFIC]}{\nextyear-01-17}{\nextyear-01-24};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-17}{\nextyear-01-24}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Wind Tunnel}{\nextyear-01-21}{\nextyear-02-01};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-21}{\nextyear-02-01}\\
		%
		% PLANNED
		\ganttbar[progress=100]{Full Mission Runs}{\nextyear-02-02}{\nextyear-02-07};
		% ACTUAL
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-02-02}{\nextyear-02-07}\\
		%
		%
		%
		%
		% PLANNED
		\ganttgroup{Final Testing}{\nextyear-03-21}{\nextyear-03-28}\\
		%
		% PLANNED
		\ganttbar[progress=100,bar/.append style={fill=\BYUgreen}]{Practice Runs}{\nextyear-03-21}{\nextyear-03-28}
	\end{ganttchart}
\end{figure}

\end{document}