% expanded CO architecture diagram produced by the TikZ package
\documentclass[]{byu-aero}

\def \nextyear {2021}

\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength{\PreviewBorder}{0em}


%GANTT CHART
\usepackage{pgfgantt}
\ganttset{
	time slot format=isodate,
	time slot unit=day,
%	x unit=0.05cm,
	y unit title=0.45cm,
	y unit chart=0.375cm,
	hgrid,
	canvas/.append style={draw=\BYUblue},
	%
	title label font=\bfseries\small,
	title height=1,
	title/.style={fill=\BYUbluelite,draw=\BYUblue},
	%
%	today = \nextyear-02-20,
%	today label = Current Date,
%	today label font=\itshape\footnotesize,
%	today rule/.style={draw=\BYUgray,dashed},
	%
	group/.append style={fill=\BYUbluemid,draw=\BYUblue},
	group top shift=0.25,
	group left shift = 0.0625,
	group right shift = -0.0625,
	group height=.25,
	group right peak tip position=0.0,
	group left peak tip position=0.0,
	group peaks width=0.25,
	group peaks height=0.25,
	group label font = \bfseries\small,
	%
	bar/.append style={fill=\BYUblue,draw=\BYUblue},
	bar label font=\small,
	bar height = 0.25,
	%	bar top shift = 0.25,
	progress label text = {},
	%
	milestone/.append style={fill=\BYUbluelite,draw=\BYUblue,xscale=6},
	milestone height = 0.95,
	milestone top shift = 0.0,
	milestone label font = \itshape\small,
	%
	%	link/.append style={draw=\BYUblue},
	link tolerance = 10,
	link bulge = 10,
}

\begin{document}
	\begin{figure}[h!]
	\centering
\begin{ganttchart}{\nextyear-01-04}{\nextyear-02-06}
	\gantttitlecalendar{week=1} \\
		%
		%Planned
		\ganttgroup{Airframe}{\nextyear-01-04}{\nextyear-01-22};
		% ACTUAL
		\ganttgroup[group/.append style={fill=\BYUredlite,draw=\BYUred}, group height = 0.125,
		group top shift = 0.5675]{}{\nextyear-01-04}{\nextyear-01-22}\\
		%
		%Planned
		\ganttbar[progress=100]{Tooling}{\nextyear-01-04}{\nextyear-01-10};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-04}{\nextyear-01-10}\\
		%
		%Planned
		\ganttbar[progress=100]{Sub-components}{\nextyear-01-08}{\nextyear-01-10};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-08}{\nextyear-01-10}\\
		%
		%Planned
		\ganttbar[progress=100]{Wing \& Tail Assembly}{\nextyear-01-11}{\nextyear-01-14};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-11}{\nextyear-01-14}\\
		%
		%Planned
		\ganttbar[progress=100]{Fuselage Assembly}{\nextyear-01-15}{\nextyear-01-18};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-15}{\nextyear-01-18}\\
		%
		%Planned
		\ganttbar[progress=100]{Finishing}{\nextyear-01-19}{\nextyear-01-22};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-19}{\nextyear-01-22}\\
		%
		%
		%
		%Planned
		\ganttgroup{Payloads}{\nextyear-01-07}{\nextyear-01-22};
		% ACTUAL
		\ganttgroup[group/.append style={fill=\BYUredlite,draw=\BYUred}, group height = 0.125,
		group top shift = 0.5675]{}{\nextyear-01-07}{\nextyear-01-22}\\
		%
		%Planned
		\ganttbar[progress=100]{Tooling}{\nextyear-01-07}{\nextyear-01-14};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-07}{\nextyear-01-14}\\
		%
		%Planned
		\ganttbar[progress=100]{Sub-components}{\nextyear-01-15}{\nextyear-01-17};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-15}{\nextyear-01-17}\\
		%
		%Planned
		\ganttbar[progress=100]{Assembly}{\nextyear-01-18}{\nextyear-01-21};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-18}{\nextyear-01-21}\\
		%
		%Planned
		\ganttbar[progress=100]{Finishing}{\nextyear-01-22}{\nextyear-01-22};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-22}{\nextyear-01-22}\\
		%
		%
		%
		%Planned
		\ganttgroup{Final Assembly}{\nextyear-01-21}{\nextyear-01-30};
		% ACTUAL
		\ganttgroup[group/.append style={fill=\BYUredlite,draw=\BYUred}, group height = 0.125,
		group top shift = 0.5675]{}{\nextyear-01-21}{\nextyear-01-30}\\
		%
		%Planned
		\ganttbar[progress=100]{Avionics}{\nextyear-01-21}{\nextyear-01-22};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-21}{\nextyear-01-22}\\
		%
		%Planned
		\ganttbar[progress=100]{Attachment Structures}{\nextyear-01-23}{\nextyear-01-25};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-23}{\nextyear-01-25}\\
		%
		%Planned
		\ganttbar[progress=100]{}{\nextyear-01-26}{\nextyear-01-28};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{Airframe and Payload}{\nextyear-01-26}{\nextyear-01-28}\\
		%
		%Planned
		\ganttbar[progress=100]{Landing Gear, etc.}{\nextyear-01-29}{\nextyear-01-29};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-29}{\nextyear-01-29}\\
		%
		%Planned
		\ganttbar[progress=100]{System Checks}{\nextyear-01-30}{\nextyear-01-30};
		%Actual
		\ganttbar[progress=100, bar height=0.125, bar top shift = 0.5675, bar/.append style={fill=\BYUredlite,draw=none}]{}{\nextyear-01-30}{\nextyear-01-30}
		%
\end{ganttchart}
\end{figure}

\end{document}